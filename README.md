# GlowMind 积分商城插件 V1.0.0

## 📖 简介

欢迎使用 GlowMind 积分商城！这是一个为 AstrBot 设计的、功能强大的群组激励与奖励系统。它集成了高度可配置的每日签到、基于时区设置的刷新机制，以及一个多商品的“GlowMind积分商城”兑换商店。

> **⚠️ 风险提示**
> 本插件的核心代码由 AI (Gemini) 协助编写，尽管经过了多次测试与重构，但仍可能存在未知的错误或逻辑漏洞。请您在使用前，务必做好数据备份，并谨慎用于生产环境。

**当前版本:** 1.0.0
**作者:** Future-404 & Gemini

---

## 🔧 安装与配置

### **第一步：配置 MySQL 数据库**

本插件需要一个 MySQL 数据库来储存用户积分、签到状态等信息。如果您是初次接触 MySQL，请不用担心，按照以下步骤操作即可。

#### 1. 您需要一个 MySQL 服务

*   **对于开发者/本地测试**: 您可以在自己的电脑上安装一个 MySQL 环境。推荐使用集成环境如 **XAMPP** 或 **phpStudy**，它们一键安装，并附带了图形化的管理工具 (phpMyAdmin)，非常方便。
*   **对于服务器部署**: 您可以购买云服务商（如阿里云、腾讯云等）提供的 RDS 数据库服务，它们稳定且无需自己维护。

#### 2. 创建一个专属的数据库

连接到您的 MySQL 后（无论是通过命令行还是图形化工具），您需要执行一条 SQL 指令来创建一个新的、空白的数据库供本插件使用。

**推荐指令：**
```sql
CREATE DATABASE your_db_name CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```
*   **说明**: 
    *   请将 `your_db_name` 替换为您想使用的数据库名，例如 `glowmind_data`。
    *   后面的 `CHARACTER SET` 部分是为了确保数据库能完美支持 Emoji 和各种特殊字符。

#### 3. (可选，但强烈推荐) 创建一个独立用户

为了安全起见，不建议直接使用 `root` 账户。我们可以创建一个新用户，并只授权它管理我们刚刚创建的那个数据库。

**执行以下两条指令：**
```sql
CREATE USER 'your_user'@'localhost' IDENTIFIED BY 'YOUR_STRONG_PASSWORD';
GRANT ALL PRIVILEGES ON your_db_name.* TO 'your_user'@'localhost';
```
*   **说明**:
    *   将 `your_user` 替换为您想创建的用户名。
    *   将 `YOUR_STRONG_PASSWORD` 替换为一个健壮的密码。
    *   将 `your_db_name` 替换为您在上一步创建的数据库名。
    *   `'localhost'` 表示这个用户只能从数据库所在的本机连接。如果您的 AstrBot 和数据库不在同一台服务器上，请将其改为您的 AstrBot 服务器的 IP 地址。

### **第二步：在 AstrBot 中填写插件配置**

现在，您已经拥有了连接数据库所需的所有信息。请在 AstrBot 的配置界面找到本插件，并填写以下字段：

*   `database` (数据库) - **【必填】**
    *   `host`: 数据库的主机地址。如果是本机，通常是 `127.0.0.1`。
    *   `port`: 数据库端口，默认为 `3306`。
    *   `user`: 您在步骤3中创建的用户名 (`your_user`)。
    *   `password`: 您为该用户设置的密码。
    *   `db_name`: 您在步骤2中创建的数据库名 (`your_db_name`)。

*   `general_settings` (全局设定)
    *   `timezone_offset_hours`: 签到重置所用的时区。默认为 `8.0`，即北京时间 (UTC+8)。

*   `rewards` (签到奖励)
    *   用于定义首次签到、每日签到的积分范围和暴击概率。

*   `item_slot_X` (商品栏)
    *   用于上架“GlowMind积分商城”中的物品。您可以按需启用和配置。

---

## 🚀 使用指南

### 对于群成员

- **每日签到**: `签到`
- **查询积分**: `我的积分`
- **浏览商店**: `GlowMind` 或 `阁楼`
- **兑换物品**: `兑换 [物品名称]` (示例: `兑换 7日体验卡`)

### 对于管理员

> **注意**: 管理员指令需要以 `/` 开头。

- **授权群聊**: `/添加白名单`
- **取消授权**: `/移除白名单`
- **调整积分**: `/调整积分 [QQ号] [要增加或减少的数值]`
  - 示例 (奖励100分): `/调整积分 123456 100`
  - 示例 (扣除50分): `/调整积分 123456 -50`

- **批量导入兑换码**: `/导入兑换码 [物品名称]`
  **重要**: 请将兑换码直接跟在指令的下一行，每个兑换码占一行。**无需发送文件**。
  **格式示例**:
  ```
  /导入兑换码 7日体验卡
  CODE-A1B2-C3D4
  CODE-E5F6-G7H8
  CODE-I9J0-K1L2
  ```

---

*This plugin was proudly crafted by Future-404 & Gemini.*
