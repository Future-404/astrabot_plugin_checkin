# 多宝阁签到插件 V5 (Check-in Plugin Pro)

## 📖 简介

这是一个为 AstrBot 设计的、基于固定商品栏的高度可配置化签到插件。它采用与 AstrBot 配置界面完美兼容的“静态插槽”架构，旨在提供一个稳定、直观、易于管理的群组激励方案。

> **⚠️ 风险提示**
> 本插件的核心代码由 AI (Gemini) 协助编写，尽管经过了多次测试与重构，但仍可能存在未知的错误或逻辑漏洞。请您在使用前，务必做好数据备份，并谨慎用于生产环境。

**当前版本:** 0.5.1
**作者:** Future-404 & Gemini

---

## 🔧 安装与配置

### **第一步：安装依赖 (Dependencies)**

本插件需要 `aiomysql` 和 `httpx` 库。请确保已将它们添加至您的环境。

插件目录下的 `requirements.txt` 文件已列出所需依赖，可供参考：
```
aiomysql
httpx
```

### **第二步：配置插件 (Configuration)**

本插件所有配置项的结构、描述和默认值，都由项目根目录下的 `_conf_schema.json` 文件定义。您需要根据此文件的蓝图，在 AstrBot 的配置系统中为本插件提供配置。

**核心配置项解读:**

1.  **`database` (数据库)**: 【必填】用于连接您的 MySQL 数据库。插件启动时，会根据此信息自动创建所需的数据表。
    - `host`: 数据库主机地址。
    - `port`: 数据库端口。
    - `user`: 用户名。
    - `password`: 密码。
    - `db_name`: 数据库名称。

2.  **`rewards` (签到奖励)**: 【可选】用于定义签到时的各项奖励数值。若不配置，则使用默认值。

3.  **`item_slot_X` (商品栏)**: 【可选】用于上架“多宝阁”中的商品。本插件预设了 `item_slot_1` 到 `item_slot_10` 共 10 个商品栏，您可以按需启用和配置。
    - `enabled`: `true` 为上架，`false` 为下架。
    - `item_name`: 商品的名称。
    - `item_cost`: 兑换所需积分。

> **注意**: 要使用管理员指令，您的用户身份需要在 AstrBot 中被识别为管理员。

---

## 🚀 使用指南

### 对于群成员

- **签到**: `签到`
- **查询积分**: `我的积分`
- **浏览商品**: `多宝阁` 或 `商品列表`
- **兑换商品**: `兑换 [商品名称]` (示例: `兑换 灵石`)

### 对于管理员

> **注意**: 指令需要以 `/` 开头。

- **授权群聊**: `/添加白名单`
- **取消授权**: `/移除白名单`
- **批量导入**: `/导入兑换码 [商品名称]` (然后按提示发送 `.txt` 文件)
- **获取导入帮助**: `/导入兑换码`

---

*This plugin was proudly crafted by Future-404 & Gemini.*